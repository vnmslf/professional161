<? namespace Bitrix\Main;$GLOBALS['____1084536419']= array(base64_decode(''.'ZmlsZV'.'9l'.'eG'.'lzdHM'.'='),base64_decode(''.'c3RydG'.'91c'.'HBl'.'c'.'g=='),base64_decode('bWQ1'),base64_decode('bWQ1'),base64_decode('a'.'W5fYXJyYXk='),base64_decode('ZGVm'.'a'.'W5lZ'.'A=='),base64_decode('ZGV'.'maW5lZA='.'='),base64_decode('ZGVmaW5lZA='.'='),base64_decode('Z'.'mlsZV9leG'.'l'.'zdHM='),base64_decode('Zml'.'s'.'Z'.'V'.'9l'.'eGl'.'z'.'dH'.'M='),base64_decode('Z'.'mlsZV9leGl'.'zd'.'H'.'M='),base64_decode('ZmlsZV9leGl'.'zd'.'HM='));if(!function_exists(__NAMESPACE__.'\\___166520384')){function ___166520384($_400432713){static $_1400296038= false; if($_1400296038 == false) $_1400296038=array('L2'.'Jpd'.'HJpeC9s'.'aWNlbn'.'NlX'.'2tleS5'.'waH'.'A=','','','RE'.'VNTw==','REVNTw==','QklU'.'Uk'.'lY','TElDRU5D'.'RQ'.'==','RE'.'VNTw==','L'.'2'.'tleV91cGRhdG'.'UucGhw'.'P2xpY2'.'Vuc2V'.'fa2V5'.'P'.'Q==',''.'JnRvY'.'mFza'.'2V'.'0P'.'XkmbGFu'.'Zz'.'0=','cnU=','a'.'3o=',''.'Ynk=','aHR'.'0cHM'.'6L'.'y'.'9kZXYuM'.'WMtYml0cml'.'4L'.'n'.'J1'.'L2xl'.'YX'.'J'.'uaW'.'5nL2NvdXJzZS9'.'pbmR'.'le'.'C5wa'.'HA/'.'Q09VU'.'lN'.'FX0lEPTEzNS'.'ZM'.'RVNT'.'T05fSUQ9M'.'j'.'U3Mj'.'A=','aH'.'R0'.'cHM6Ly90cmFpbmluZy5iaXRyaXgyNC'.'5'.'jb20'.'vc3VwcG9yd'.'C90'.'c'.'mF'.'p'.'bmluZy9jb3Vyc2Uv'.'aW5kZXgucGhwP'.'0'.'NPVVJTRV9JR'.'D0x'.'Nzg'.'m'.'TEVTU'.'09OX0l'.'EPTI'.'1O'.'TMyJk'.'xFU'.'1NP'.'Tl9QQVRIPTE3N'.'TIwLjE3NTY'.'yLjI1OTMwLj'.'I1OT'.'My','cnU=','REVNT'.'w==','W'.'Q='.'=','VElNRUx'.'JT'.'UlUX0VESVRJ'.'T04=','WQ==','RU5D'.'T0R'.'F','WQ='.'=','U2l'.'0ZU'.'V4cG'.'lyZURhdGU=',''.'Ym'.'l0cm'.'l4MjQ'.'=','bWFpb'.'g==',''.'flBBUkFNX0NMS'.'UVOVF'.'9M'.'QU5H','aW5'.'0cm'.'FuZXQ=','ZW4'.'=','c'.'nU=','bW'.'Fpbg==','dmV'.'uZG9y','dWFf'.'Y'.'ml'.'0cm'.'l4'.'X3BvcnRhbA==','d'.'WE=',''.'Yml0'.'cml4'.'X'.'3BvcnRhbA'.'==','ZW'.'4=','M'.'WNfYml0cml4X'.'3BvcnRhbA'.'==','cn'.'U=','L2Jpd'.'HJp'.'e'.'C9t'.'b2R'.'1'.'bGVzL21haW4vbGFu'.'Zy9'.'1YQ==',''.'d'.'W'.'E'.'=','L2'.'J'.'pd'.'HJpe'.'C9tb2R1bGVzL21'.'haW4'.'vbGFuZy9ieQ==',''.'Ynk'.'=','L2JpdHJp'.'e'.'C9tb2'.'R1bGV'.'zL21ha'.'W'.'4vbGF'.'uZy9reg==','a3o=','L'.'2'.'JpdHJpeC9tb2R1'.'b'.'G'.'VzL21haW4vbG'.'FuZy9ydQ==',''.'cnU'.'=','bWF'.'pbg='.'=','flB'.'BU'.'k'.'FNX1BB'.'UlRORVJfSUQ=','b'.'W'.'F'.'pbg'.'='.'=',''.'UE'.'FSQ'.'U1fTUF'.'YX1VT'.'RV'.'JT','b'.'WFp'.'bg==','f'.'kN'.'PVU5U'.'X0VYVFJB','Tg'.'==',''.'WQ'.'==','ZXh0cmFuZ'.'XQ=',''.'QU5EI'.'FU'.'uTEFTVF9'.'MT0d'.'J'.'TiA+I'.'A'.'==','QU5EI'.'FUuTEFTV'.'F'.'9MT0dJT'.'i'.'BJUyBO'.'T1QgTlV'.'M'.'TA'.'==','aW50cmFuZXQ'.'=','CgkJCQlTR'.'UxFQ'.'1Q'.'gQ09VTlQoRE'.'lTVElO'.'Q1Q'.'gVS5JRCkK'.'C'.'QkJCUZST00KCQk'.'JCQl'.'iX3'.'VzZXIgVQoJCQkJCUlOT'.'kVSI'.'Ep'.'PS'.'U'.'4'.'gYl91c2Vy'.'X2ZpZW'.'xk'.'IEYgT04gRi5FT'.'lR'.'JVFlfS'.'UQg'.'PSAnVVNFUicgQU'.'5EI'.'EYuRkl'.'FTERfTk'.'FN'.'R'.'SA9IC'.'dVRl9'.'ERVBBUlRNRU5UJwoJCQkJCU'.'lOT'.'kVSIE'.'pP'.'SU4gYl91dG1fd'.'X'.'NlciB'.'VRiBP'.'TgoJC'.'Qk'.'J'.'CQlVRi5GSUVMRF9'.'JRCA9'.'IEYu'.'SUQ'.'KCQ'.'kJCQkJQU5EIFVGLlZBTFVFX0lE'.'ID0g'.'VS'.'5JRA'.'oJCQkJCQlBTkQgVU'.'YuVkFMVU'.'Vf'.'SU5'.'UID4'.'gM'.'AoJC'.'Q'.'k'.'JV0hFUkUg'.'VS5B'.'Q1RJV'.'k'.'U'.'gPS'.'A'.'nWS'.'c'.'KC'.'QkJCQk'.'=','C'.'gkJCQ='.'=','ZXh'.'0cmFuZXQ=',''.'ZXh'.'0cm'.'Fu'.'ZXRf'.'Z3JvdXA=','C'.'gk'.'JC'.'Q'.'kJC'.'VN'.'FTEVDVC'.'B'.'DT'.'1VOVCgxKQoJC'.'QkJC'.'Q'.'lGUk9NCg'.'kJCQkJ'.'CQliX3VzZXI'.'gVQo'.'JCQ'.'kJCQ'.'kJ'.'SU5ORVIgSk9JTi'.'B'.'iX3'.'VzZXJ'.'fZ'.'3Jvd'.'XAgVU'.'cgT04gV'.'Uc'.'uVVNFUl9J'.'RCA9'.'IFUuSUQgQU'.'5EIFVHLkdST1VQX0lEID'.'0g','Cg'.'kJ'.'CQkJ'.'CQlM'.'RUZUIEpPSU'.'4'.'gKAo'.'JCQkJCQ'.'kJC'.'VNFTE'.'VDVCBVRi5'.'WQUxVRV'.'9JRCAKCQkJCQkJC'.'QlGUk9'.'NIAoJCQkJCQkJ'.'CQliX3'.'V'.'z'.'ZXJfZml'.'lbGQgRgoJCQkJC'.'QkJCQlJTk5FUiBKT0l'.'OIGJfdXRtX3Vz'.'ZXIg'.'VUYgT'.'04gVUYuRk'.'lFT'.'ERfSUQ'.'g'.'PSBGLkl'.'EI'.'EFORCB'.'VR'.'i5'.'WQUx'.'VR'.'V'.'9'.'JTlQ'.'gPiAw'.'Cgk'.'JC'.'Q'.'kJC'.'Q'.'kJ'.'V0'.'hFU'.'kUgRi5FTl'.'RJVFl'.'fSUQgP'.'SAnVVNFUicgQU5EIEYuRk'.'lFTERfTkF'.'NR'.'SA9ICdV'.'Rl9E'.'RVBBU'.'lRNRU'.'5UJw'.'oJ'.'C'.'QkJC'.'QkJ'.'KSBEIE9O'.'I'.'EQuVk'.'FM'.'VUVfSUQ'.'gPSB'.'VLklECgk'.'J'.'C'.'Qk'.'JCVdIRVJF'.'IFU'.'u'.'QUN'.'US'.'VZF'.'ID'.'0'.'gJ'.'1'.'knCgkJ'.'CQkJCQk'.'=','C'.'g'.'kJCQkJCQl'.'BTkQgRC5WQ'.'UxVRV9JRCB'.'JUyBO'.'VUxMCgkJCQk'.'J','Cg'.'kJCQlTRUx'.'F'.'Q'.'1Qg'.'Q09V'.'TlQo'.'S'.'U'.'QpCgkJCQlGUk9NIGJf'.'dXNlciBVCgkJCQlXSEVSR'.'SB'.'VLkFD'.'V'.'ElWRSA'.'9ICdZJwoJCQk'.'JCQ==','CgkJCQ='.'=');return base64_decode($_1400296038[$_400432713]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_1220039732= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public function getKey(): string{ if($this->_1220039732 === null){ $_1939857628= Loader::getDocumentRoot(). ___166520384(0); $LICENSE_KEY= ___166520384(1); if($GLOBALS['____1084536419'][0]($_1939857628)){ include($_1939857628);} $this->_1220039732=($LICENSE_KEY == ___166520384(2) || $GLOBALS['____1084536419'][1]($LICENSE_KEY) == ___166520384(3)? ___166520384(4): $LICENSE_KEY);} return $this->_1220039732;} public function getHashLicenseKey(): string{ return $GLOBALS['____1084536419'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____1084536419'][3](___166520384(5). $this->getKey(). ___166520384(6));} public function isDemoKey(): bool{ return $this->getKey() == ___166520384(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___166520384(8). $this->getHashLicenseKey(). ___166520384(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_622195132= $this->getRegion(); if($GLOBALS['____1084536419'][4]($_622195132,[___166520384(10), ___166520384(11), ___166520384(12)])){ return ___166520384(13);} return ___166520384(14);} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___166520384(15)];} public function isDemo(): bool{ return $GLOBALS['____1084536419'][5](___166520384(16)) && DEMO === ___166520384(17);} public function isTimeBound(): bool{ return $GLOBALS['____1084536419'][6](___166520384(18)) && TIMELIMIT_EDITION === ___166520384(19);} public function isEncoded(): bool{ return $GLOBALS['____1084536419'][7](___166520384(20)) && ENCODE === ___166520384(21);} public function getExpireDate():?Date{ $_668978995= (int)$GLOBALS[___166520384(22)]; if($_668978995>(898-2*449)){ return Date::createFromTimestamp($_668978995);} return null;} public function getRegion():?string{ if(Loader::includeModule(___166520384(23))){ return \CBitrix24::getPortalZone();} $_622195132= Option::get(___166520384(24), ___166520384(25)); if(!empty($_622195132)){ return $_622195132;} $_622195132= $this->__959583783(); if(!empty($_622195132)){ return $_622195132;} return $this->__195161261();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___166520384(26))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___166520384(27)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___166520384(28)];} private function __959583783():?string{ $_978634698= Option::get(___166520384(29), ___166520384(30)); if($_978634698 === ___166520384(31)){ return ___166520384(32);} if($_978634698 === ___166520384(33)){ return ___166520384(34);} if($_978634698 === ___166520384(35)){ return ___166520384(36);} return null;} private function __195161261():?string{ $_1394141153= Application::getDocumentRoot(); if($GLOBALS['____1084536419'][8]($_1394141153. ___166520384(37))){ return ___166520384(38);} if($GLOBALS['____1084536419'][9]($_1394141153. ___166520384(39))){ return ___166520384(40);} if($GLOBALS['____1084536419'][10]($_1394141153. ___166520384(41))){ return ___166520384(42);} if($GLOBALS['____1084536419'][11]($_1394141153. ___166520384(43))){ return ___166520384(44);} return null;} public function getPartnerId(): int{ return (int)Option::get(___166520384(45), ___166520384(46),(814-2*407));} public function getMaxUsers(): int{ return (int)Option::get(___166520384(47), ___166520384(48), min(206,0,68.666666666667));} public function isExtraCountable(): bool{ return Option::get(___166520384(49), ___166520384(50), ___166520384(51)) === ___166520384(52) && ModuleManager::isModuleInstalled(___166520384(53));} public function getActiveUsersCount(Date $_1454948568= null){ $_266992450= Application::getConnection(); if($_1454948568 !== null){  $_377485643= ___166520384(54).$_266992450->getSqlHelper()->convertToDbDate($_1454948568);} else{  $_377485643= ___166520384(55);} if(ModuleManager::isModuleInstalled(___166520384(56))){ $_1322091239= ___166520384(57). $_377485643. ___166520384(58); $_1480260396= (int)$_266992450->queryScalar($_1322091239); if($this->isExtraCountable()){ $_1189428573= (int)Option::get(___166520384(59), ___166520384(60)); if($_1189428573> min(144,0,48)){ $_1322091239= ___166520384(61). $_1189428573. ___166520384(62). $_377485643. ___166520384(63); $_1480260396 += (int)$_266992450->queryScalar($_1322091239);}}} else{ $_1322091239= ___166520384(64). $_377485643. ___166520384(65); $_1480260396= (int)$_266992450->queryScalar($_1322091239);} return $_1480260396;}}?>